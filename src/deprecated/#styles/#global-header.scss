@use "@/styles/style";

$header-width: 100dvw;
$navbar-width: 400px;
$icon-width: 38px; // 2 char icon
$icon-margin: 16px;

$functions-width: 100px;
$functions-padding-right: 16px;

$functions-total-width: calc($functions-width + $functions-padding-right);
$icon-total-width: calc($icon-width + 2 * $icon-margin);

$sidebarToggleMaxWidth: calc($icon-total-width + $navbar-width + $functions-total-width);

$header-height: 50px;
$font-size: 16px;

$header-z: 100;
$sidebar-z: 99;
$sidebar-bg-z-active: 98;
$sidebar-bg-z-non-active: -100;

.sidebar-bg {
  @include style.transition(all, 100ms);
  position: fixed;
  top: 0;
  left: 0;
  width: 100dvw;
  height: 100dvh;
  background-color: rgba($color: #000000, $alpha: 0.3);
  opacity: 0;
  z-index: $sidebar-bg-z-non-active;

  @media (max-width: $sidebarToggleMaxWidth) {
    &.active-bg {
      opacity: 1;
      z-index: $sidebar-bg-z-active;
    }
  }
}

.global-header {
  @include style.flex(row, between);
  position: fixed;
  width: $header-width;
  height: $header-height;
  background: none;
  font-size: $font-size;
  color: var(--txt-color);
  z-index: $header-z;

  .icon {
    position: absolute;
    left: 0;
    width: $icon-width;
    margin: auto $icon-margin;
    font-style: italic;
  }

  .navbar {
    @include style.flex(row, around);
    position: relative;
    width: $navbar-width;
    height: $header-height;
    margin-left: $icon-total-width;
    border-radius: $header-height;
  }

  .functions {
    @include style.flex(row, around);
    width: $functions-width;
    height: $header-height;
    padding-right: $functions-padding-right;
  }

  .toggle-sidebar {
    position: relative;
    display: none;
    background: none;
    border: none;
    width: $header-height;
    height: $header-height;
    cursor: pointer;

    &:active {
      @include style.animate(shrink-spin, 1000ms, ease);
    }
  }

  @media (max-width: $sidebarToggleMaxWidth) {
    .navbar {
      display: none;
    }

    .functions {
      display: none;
    }

    .toggle-sidebar {
      display: inline-block;
      margin-left: auto;
    }
  }
}
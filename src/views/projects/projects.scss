@use "@/styles/style.scss";

$no-of-cards: 7;
$cardBundleMaxWidth: 524px;

.projects {
  .cards-wrapper {
    @include style.flex(row, start);
    position: absolute;
    bottom: 0;
    left: 3vw;
    width: 90vw;
    height: auto;

    @for $i from 1 through $no-of-cards {
      &>*:nth-child(#{$i}) {
        position: absolute;
        transform: translateX(calc(90vw / $no-of-cards * (#{$i} - 1)));
        z-index: calc($no-of-cards - #{$i});

        &:hover {
          transform: translateX(calc(90vw / $no-of-cards * (#{$i} - 1))) translateY(-300px) scale(1.2);
          z-index: $no-of-cards;
        }
      }

    }

    @media (max-width: $cardBundleMaxWidth) {
      @include style.flex(row, center);
      top: 0;
      bottom: 0;
      width: 100%;
      height: auto;

      @for $i from 1 through $no-of-cards {
        &>*:nth-child(#{$i}) {
          position: absolute;
          transform: rotate(calc(5deg * (#{$i} - 1)));
          z-index: calc($no-of-cards - #{$i});

          &:not(:first-child) {
            pointer-events: none;
          }
        }
      }
    }
  }
}